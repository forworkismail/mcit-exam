<button (click)="showForm = !showForm" class="my-4 bg-blue-400 px-4 py-2 text-white">Create Letter</button>
<div *ngIf="showForm">
  <form
    [formGroup]="letterForm"
    (ngSubmit)="onSubmit()"
    class="space-y-4 rounded-lg border-2 border-black bg-white p-6 shadow-md">
    <!-- Unique Identifier -->
    <div class="relative border-b-2 border-black">
      <label for="uniqueIdentifier" class="block text-sm font-medium text-gray-700">Unique Identifier</label>
      <input
        id="uniqueIdentifier"
        type="text"
        formControlName="uniqueIdentifier"
        placeholder="Unique Identifier"
        class="mt-1 block w-full rounded-md px-4 py-2 focus:border-indigo-500 focus:ring-indigo-500" />
    </div>

    <!-- Type -->
    <div class="relative border-b-2 border-black">
      <label for="type" class="block text-sm font-medium text-gray-700">Type</label>
      <select
        id="type"
        formControlName="type"
        class="mt-1 block w-full rounded-md px-4 py-2 focus:border-indigo-500 focus:ring-indigo-500">
        <!-- Add options here as per your Enum, example: -->
        <option value="TYPE_1">Type 1</option>
        <option value="TYPE_2">Type 2</option>
      </select>
    </div>

    <!-- Content -->
    <div class="relative border-b-2 border-black">
      <label for="content" class="block text-sm font-medium text-gray-700">Content</label>
      <textarea
        id="content"
        formControlName="content"
        placeholder="Content"
        class="mt-1 block w-full rounded-md px-4 py-2 focus:border-indigo-500 focus:ring-indigo-500"></textarea>
    </div>

    <!-- Created By (Assuming you need to select a user) -->
    <div class="relative border-b-2 border-black">
      <label for="createdBy" class="block text-sm font-medium text-gray-700">Created By</label>
      <select
        id="createdBy"
        formControlName="createdBy"
        class="mt-1 block w-full rounded-md px-4 py-2 focus:border-indigo-500 focus:ring-indigo-500">
        <!-- Add options dynamically from your list of users -->
        <!-- <option *ngFor="let user of users" [value]="user.id">{{ user.username }}</option> -->
      </select>
    </div>

    <!-- Date (Assuming an input field) -->
    <div class="relative border-b-2 border-black">
      <label for="date" class="block text-sm font-medium text-gray-700">Date</label>
      <input
        id="date"
        type="date"
        formControlName="date"
        class="mt-1 block w-full rounded-md px-4 py-2 focus:border-indigo-500 focus:ring-indigo-500" />
    </div>

    <!-- Status -->
    <div class="relative border-b-2 border-black">
      <label for="status" class="block text-sm font-medium text-gray-700">Status</label>
      <select
        id="status"
        formControlName="status"
        class="mt-1 block w-full rounded-md px-4 py-2 focus:border-indigo-500 focus:ring-indigo-500">
        <!-- Add options here as per your Enum, example: -->
        <option value="STATUS_1">Status 1</option>
        <option value="STATUS_2">Status 2</option>
      </select>
    </div>

    <!-- Response To (Assuming you need to select a letter) -->
    <div class="relative border-b-2 border-black">
      <label for="responseTo" class="block text-sm font-medium text-gray-700">Response To</label>
      <select
        id="responseTo"
        formControlName="responseTo"
        class="mt-1 block w-full rounded-md px-4 py-2 focus:border-indigo-500 focus:ring-indigo-500">
        <!-- Add options dynamically from your list of letters -->
        <option *ngFor="let letterOption of letters" [value]="letterOption.id">
          {{ letterOption.uniqueIdentifier }}
        </option>
      </select>
    </div>

    <!-- Submit Button -->
    <div class="flex justify-end">
      <button
        type="submit"
        class="rounded-md border-2 border-black bg-green-500 px-4 py-2 text-white transition duration-150 ease-in-out hover:bg-green-600">
        Submit
      </button>
    </div>
  </form>
</div>

<table *ngIf="!showForm" class="min-w-full divide-y divide-gray-200">
  <thead class="bg-gray-50">
    <tr>
      <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">ID</th>
      <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Unique Identifier</th>
      <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Type</th>
      <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Content</th>
      <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Date</th>
      <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Status</th>
      <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500">Response To</th>
    </tr>
  </thead>
  <tbody class="divide-y divide-gray-200 bg-white">
    <tr *ngFor="let letter of letters">
      <td class="max-w-[10px] truncate whitespace-nowrap px-6 py-4">{{ letter.id }}</td>
      <td class="max-w-[30px] truncate whitespace-nowrap px-6 py-4">{{ letter.uniqueIdentifier }}</td>
      <td class="max-w-[40px] truncate whitespace-nowrap px-6 py-4">{{ letter.type }}</td>
      <td class="max-w-[30px] truncate whitespace-nowrap px-6 py-4">{{ letter.content }}</td>
      <td class="max-w-[30px] truncate whitespace-nowrap px-6 py-4">{{ letter.date }}</td>
      <td class="max-w-[30px] truncate whitespace-nowrap px-6 py-4">{{ letter.status }}</td>
      <td class="max-w-[30px] truncate whitespace-nowrap px-6 py-4">{{ letter.responseToId   }}</td>
    </tr>
  </tbody>
</table>
